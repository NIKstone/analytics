!function(){function e(){function e(e){var t=this,n=e;t.create=function(){var e=n[1]||"",t=n[2]||"";e&&d.paramStack.push([e,t])},t.send=function(){var e=n[1]||"",t=n[2]||[];return"pageclick"==e?void pageClick(n[2]+""):void(e&&(d.params.ic=e,d.requestInfo(t.length&&t)))},t.clear=function(){var e=n[1];if(e)if(e&&i.isArray(e))for(var t=0;t<e.length;t++)e[t]&&d.putParams(e[t]);else d.putParams(e)},t.trackEvent=function(){function e(e){for(var t=0;_ext=e[t];t++)i.isArray(_ext)&&_ext.length>1&&r.push(_ext)}var t=n[1]||"",o=n[2]||"",r=[["cat",t],["act",o]];i.isArray(n[3])?e(n[3]):(r.push(["des",n[3]?n[3]+"":""]),e(n[4]||[])),d.params.ic="TrackEvent",d.requestInfo(r)},n[0]&&t[n[0]]&&new t[n[0]],pageClick=function(e){window.addEventListener?window.addEventListener("click",function(t){var n=t.clientX||0,o=t.clientY||0;d.onPageClick(e,n+"x"+o)}):document.attachEvent&&document.attachEvent("onclick",function(t){var n=t.clientX||0,o=t.clientY||0;d.onPageClick(e,n+"x"+o)})}}for(var t=window._ma.q||[],n=0;_val=t[n];n++)e(_val);window._ma=function(){var t=arguments;t&&t[0]&&e(t)}}try{if(window.hasMo)return;var t=navigator.userAgent,n=(navigator.platform,"https:"==document.location.protocol?"https://analytics.52xiyou.com/":"http://analytics.52xiyou.com/"),o=n+"mo.gif",r="//collector.xiyouence.com/mo.gif",a=function(){};window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=Number(arguments[1])||0;for(n<0&&(n+=t);n<t;){if(n in this&&this[n]===e)return n;n++}if(0===t)return-1});var i={parseQueryString:function(e){var t={};if(e.length>0){var n="?"===e.charAt(0)?e.substring(1):e;if(n.length>0)for(var o=n.split("&"),r=0;r<o.length;r++)if(o[r].length>0){var a=o[r].split("=");try{var i=decodeURIComponent(a[0]),c=a.length>1?decodeURIComponent(a[1]):"";a.length>1&&(t[i]=c)}catch(s){}}}return t},unParseQueryString:function(e){var t,n,o=[];for(t in e)e.hasOwnProperty&&!e.hasOwnProperty(t)||(n=e[t],o.push(encodeURIComponent(t)+"="+encodeURIComponent(n)));var r=o.join("&");return r.length>0?"?"+r:""},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},parseUrl:function(e){var t=document.createElement("a");return t.href=e,""===t.host&&(t.href=t.href),{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:i.parseQueryString(t.search)}},unParseUrl:function(e){return(e.protocol||"")+"//"+(e.host||"")+(e.pathname||"")+(e.hash||"")},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},parseString:function(e){return e.replace(/(^\s*)|(\s*$)/g,"").toLowerCase()},parseArray:function(e,t){for(var n=[],o=0;_val=e[o];o++)n.push(this.parseString(_val+""));return n.join(t||"&")}},c={type:"other",version:"other",width:0,height:0,engine_type:"other",engine_version:"other",getDevice:function(){var e=0,t=0;window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),this.height=t,this.width=e},getInfo:function(){var e=this;if(/MicroMessenger\/(\S+)/.test(t)||/MQQBrowser\/(\S+)/.test(t))return this.type="X5",void(this.version=RegExp.$1);if(window.opera)return e.type="opera",void(e.version=window.opera.version()||"other");{if(!/AppleWebKit\/(\S+)/.test(t))return/KHTML\/(\S+)/.test(t)||/Konqueror\/([^;]+)/.test(t)?(e.type="khtml",void(e.version=RegExp.$1)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(t)?(e.type="gecko",void(e.version=RegExp.$1)):/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/.test(t.toLowerCase())?(e.type="trident",void(e.version=RegExp.$1)):"douyu_android"==t.toLowerCase()?void(e.type="douyuapp"):void 0;if(e.type="webkit",/Chrome\/(\S+)/.test(t))e.version=RegExp.$1;else if(/Version\/(\S+)/.test(t))e.version=RegExp.$1;else{var n=1,o=o||"";n=o.webkit<100?1:o.webkit<312?1.2:o.webkit<412?1.3:2,e.version=n}}}};c.getDevice(),c.getInfo();var s={domain:document.domain||"",url:document.URL||"",title:document.title||"",ref:i.getQueryString("ref")||document.referrer||"",hostname:document.location&&document.location.hostname||"",getUrlData:function(){var e=document.location;return{hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:i.parseQueryString(e.search)}}},h={type:"other",version:"other",screen_width:0,screen_height:0,screen_colors:"0-bit",language:"other",gpu_vender:"",gpu_renderer:"",getDevice:function(){window&&window.screen&&(this.screen_height=window.screen.height||0,this.screen_width=window.screen.width||0,this.screen_colors=(window.screen.colorDepth||0)+"-bit");var e=document.createElement("canvas"),t="";if(t.getContext&&(t=e.getContext("webgl")||e.getContext("experimental-webgl"))){var n=t.getExtension("WEBGL_debug_renderer_info");n&&(this.gpu_renderer=t.getParameter(n.UNMASKED_RENDERER_WEBGL||"")||"",this.gpu_vender=t.getParameter(n.UNMASKED_VENDOR_WEBGL||"")||"")}},getInfo:function(){var e=this,n=t.toLowerCase();if(t.match("Unix")&&(e.type="Unix"),n.match("freebsd")&&(e.type="Freebsd"),t.match("openBSD")&&(e.type="OpenBSD"),t.match("netBSD")&&(e.type="NetBSD"),t.match("SunOS")&&(e.type="Solaris"),t.match("Linux")&&(e.type="Linux",t.match("CentOS")&&(e.type="CentOS",(match=/CentOS\/[0-9\.\-]+el([0-9_]+)/.exec(t))&&(e.version=match[1].replace(/_/g,"."))),t.match("Debian")&&(e.type="Debian"),t.match("Fedora")&&(e.type="Fedora",(match=/Fedora\/[0-9\.\-]+fc([0-9]+)/.exec(t))&&(e.version=match[1])),t.match("Gentoo")&&(e.type="Gentoo"),t.match("Kubuntu")&&(e.type="Kubuntu"),t.match("Mandriva Linux")&&(e.type="mandriva",(match=/Mandriva Linux\/[0-9\.\-]+mdv([0-9]+)/.exec(t))&&(e.version=match[1])),t.match("Mageia")&&(e.type="Mageia",(match=/Mageia\/[0-9\.\-]+mga([0-9]+)/.exec(t))&&(e.version=match[1])),t.match("Red Hat")&&(e.type="Red Hat",(match=/Red Hat[^\/]*\/[0-9\.\-]+el([0-9_]+)/.exec(t))&&(e.version=match[1].replace(/_/g,"."))),t.match("Slackware")&&(e.type="Slackware"),t.match("SUSE")&&(e.type="SUSE"),t.match("Turbolinux")&&(e.type="Turbolinux"),t.match("Ubuntu")&&(e.type="Ubuntu",(match=/Ubuntu\/([0-9.]*)/.exec(t))&&(e.version=match[1]))),t.match("iPhone( Simulator)?;")||t.match("iPad;")||t.match("iPod;")?(e.type="iOS",e.version="1.0",(match=/OS (.*) like Mac OS X/.exec(t))&&(e.version=match[1].replace(/_/g,"."))):t.match("Mac OS X")&&(e.type="Mac OS X",(match=/Mac OS X (10[0-9\._]*)/.exec(t))&&(e.version=match[1].replace(/_/g,"."))),t.match("Windows")){if(e.type="Windows",match=/Windows NT ([0-9]\.[0-9])/.exec(t))switch(e.version=match[1],match[1]){case"10.0":e.version="10";break;case"6.4":e.version="10";break;case"6.3":e.version="8.1";break;case"6.2":e.version="8";break;case"6.1":e.version="7";break;case"6.0":e.version="Vista";break;case"5.2":e.version="Server 2003";break;case"5.1":e.version="XP";break;case"5.0":e.version="2000";break;default:e.version="NT "+e.version}(t.match("Windows 95")||t.match("Win95")||t.match("Win 9x 4.00"))&&(e.version="95"),(t.match("Windows 98")||t.match("Win98")||t.match("Win 9x 4.10"))&&(e.version="98"),(t.match("Windows ME")||t.match("WinME")||t.match("Win 9x 4.90"))&&(e.version="ME"),(t.match("Windows XP")||t.match("WinXP"))&&(e.type="XP"),t.match("WP7")&&(e.type="Windows Phone",e.version="7.0"),(t.match("Windows CE")||t.match("WinCE")||t.match("WindowsCE"))&&(t.match(" IEMobile")?(e.type="Windows Mobile",t.match(" IEMobile 8")&&(e.version="6.5"),t.match(" IEMobile 7")&&(e.version="6.1"),t.match(" IEMobile 6")&&(e.version="6.0")):(e.type="Windows CE",(match=/WindowsCEOS\/([0-9.]*)/.exec(t))&&(e.version=match[1]),(match=/Windows CE ([0-9.]*)/.exec(t))&&(e.version=match[1]))),t.match("Windows Mobile")&&(e.type="Windows Mobile"),(match=/WindowsMobile\/([0-9.]*)/.exec(t))&&(e.type="Windows Mobile",e.version=match[1]),t.match("Windows Phone")&&(e.type="Windows Mobile",e.version=t.match(/Windows Phone ([0-9.]*)/)[1]),t.match("Windows Phone OS")&&(e.type="Windows Phone",e.version=t.match(/Windows Phone OS ([0-9.]*)/)[1],e.version<7&&(e.type="Windows Mobile"))}t.match("Android")&&(e.type="Android",(match=/Android(?: )?(?:AllPhone_|CyanogenMod_)?(?:\/)?v?([0-9.]+)/.exec(t.replace("-update",".")))&&(e.version=match[1]),t.match("Android Eclair")&&(e.version="2.0")),t.match("GoogleTV")&&(e.type="Google TV",t.match("Chrome/5.")&&(e.version="1"),t.match("Chrome/11.")&&(e.version="2")),t.match("WoPhone")&&(e.type="WoPhone",(match=/WoPhone\/([0-9\.]*)/.exec(t))&&(e.version=match[1])),(t.match("BlackBerry")||t.match("BB10"))&&(e.type="BlackBerry OS",t.match("Opera")||((match=/BlackBerry([0-9]*)\/([0-9.]*)/.exec(t))&&(e.version=match[2]),(match=/Version\/([0-9.]*)/.exec(t))&&(e.version=match[1]),e.version>=10&&(e.type="BlackBerry"))),t.match("RIM Tablet OS")?(e.type="BlackBerry Tablet OS",e.version=t.match(/RIM Tablet OS ([0-9.]*)/)[1]):t.match("PlayBook")&&(match=/Version\/(10[0-9.]*)/.exec(t))&&(e.type="BlackBerry",e.version=match[1])}};h.getDevice(),h.getInfo();var m=function(){var e=this;e.collectUrl=o,e.send=function(t,n,o,r){e.collectUrl=t,n.length>=2036||r?e.sendByRequest(n,o):e.sendByImage(n,o)},e.sendByImage=function(t,n){var o=window,r="moImage_"+e.make_rnd(),i=o[r]=new Image;i.onload=function(){o[r]=null,(n||a)(!0),document.body.removeChild(i)},i.onerror=function(){o[r]=null,(n||a)(!1),document.body.removeChild(i)},i.src=e.collectUrl+"?"+t,document.body.appendChild(i)},e.make_rnd=function(){return+new Date+".r"+Math.floor(1e3*Math.random())},e.sendByRequest=function(t,n){var o,r=window.XMLHttpRequest;return o=r?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),!!o&&(o.open("POST",e.collectUrl,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4==o.readyState&&((n||a)(200==o.status?!0:!1),o=null)},o.send(t),!0)}},d={startTime:(new Date).getTime(),params:{ic:"pageview",osn:h.type.toLowerCase(),osv:h.version,brn:c.type,brv:c.version,gr:h.gpu_renderer,gv:h.gpu_vender,sr:h.screen_width+"x"+h.screen_height,rr:i.unParseUrl(i.parseUrl(s.ref)),mn:"1"},commonParams:{},paramStack:[],onPageClick:function(e,t){this.params.ic=e||"click";var n=(new Date).getTime(),o=Math.floor((n-this.startTime)/1e3);this.requestInfo([["cc",t+""],["cd",o+""]])},pushParams:function(){for(var e=this.paramStack,t=0;t<e.length;t++)this.params[e[t][0]]=e[t][1]+""},putParams:function(e){for(var t=this.paramStack,n=0;_val=t[n];n++)e&&_val[0]==e&&(this.paramStack.splice(n,1),delete this.params[e])},objToArray:function(e,t){var n=e||{},o=t;for(var r in n){var a=encodeURIComponent(r+""),i=encodeURIComponent(e[r]+"");o.push(a+"="+i)}return o},checkSendCommon:function(){var e=this.params.ic||"",t=["materialvisit","postervisit","mapostervisit","mopostervisit"];return t.indexOf(e.toLowerCase())>-1},getNow:function(){return Math.floor((new Date).getTime()/1e3)},requestInfo:function(e){var t=this;t.pushParams();var n=t.params,a=[];a=t.objToArray(n,a);var c=t.checkSendCommon();if(c){var s=t.commonParams;a=t.objToArray(s,a)}else a.push("_tt="+t.getNow());if(e&&i.isArray(e)){for(var h=[],d=0;_param=e[d];d++)if(_param[0]){var u=encodeURIComponent(_param[0])+"="+encodeURIComponent(_param[1]+"");h.push(u)}a.push(h.join("&"))}var p=a.join("&"),l=new m;l.send(r,p,function(e){e||(window.reportBug&&window.reportBug({msg:"temp__"+a.join(",")}),l.send(r,p,null,!0))},!1),l.send(o,p,function(e){e||(window.reportBug&&window.reportBug({msg:a.join(",")}),l.send(o,p,null,!0))},!1)}};e(),window.hasMo=1}catch(u){var p=(u&&u.message)+",ua: "+navigator.userAgent;window.reportBug&&window.reportBug({msg:p})}}(window);