!function(){function e(e){var t=window,n="jsFeImage_"+o(),a=t[n]=new Image;a.onload=a.onerror=function(){t[n]=null},a.src="//down.xiyouence.com/error/report?"+e+"&url="+encodeURIComponent(window.location.href)}function t(){function e(e){var t=this,n=e||[];t.create=function(){var e=n[1]||"",t=n[2]||"";e&&v.paramStack.push([e,t])},t.send=function(){var e=n[1]||"",t=n[2]||[];return"pageclick"==e?void pageClick(n[2]+""):void(e&&(v.params.ic=e,v.requestInfo(t.length&&t)))},t.clear=function(){var e=n[1];if(e)if(e&&c.isArray(e))for(var t=0;t<e.length;t++)e[t]&&v.putParams(e[t]);else v.putParams(e)},t.trackEvent=function(){function e(e){for(var t=0;_ext=e[t];t++)c.isArray(_ext)&&_ext.length>1&&r.push(_ext)}var t=n[1]||"",a=n[2]||"",r=[["cat",t],["act",a]];c.isArray(n[3])?e(n[3]):(r.push(["des",n[3]?n[3]+"":""]),e(n[4]||[])),v.params.ic="TrackEvent",v.requestInfo(r)},n[0]&&t[n[0]]&&new t[n[0]],pageClick=function(e){try{window.addEventListener?window.addEventListener("click",function(t){var n=t.clientX||0,a=t.clientY||0;v.onPageClick(e,n+"x"+a)}):document.attachEvent&&document.attachEvent("onclick",function(t){var n=t.clientX||0,a=t.clientY||0;v.onPageClick(e,n+"x"+a)})}catch(t){}}}for(var t=window._ma.q||[],n=0;_val=t[n];n++)e(_val);window._ma=function(){var t=arguments||"";t&&t[0]&&e(t)}}if(!window.hasMo){var n=navigator.userAgent,a=(navigator.platform,"https:"==document.location.protocol?"https://analytics.52xiyou.com/":"http://analytics.52xiyou.com/"),r=a+"mo.gif",i=function(){};window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),window.onerror=function(t,n,a,r,i){var o=t.toLowerCase(),c="script error";return e(o.indexOf(c)>-1?"error=script_error":"msg="+t+"&src="+encodeURIComponent(n)+"&line="+a+"&col="+r+"&err="+i),!1};var o=function(){return+new Date+".r"+Math.floor(1e3*Math.random())},c={parseQueryString:function(e){var t={};if(e.length>0){var n="?"===e.charAt(0)?e.substring(1):e;if(n.length>0)for(var a=n.split("&"),r=0;r<a.length;r++)if(a[r].length>0){var i=a[r].split("=");try{var o=decodeURIComponent(i[0]),c=i.length>1?decodeURIComponent(i[1]):"";i.length>1&&(t[o]=c)}catch(s){}}}return t},unParseQueryString:function(e){var t,n,a=[];for(t in e)e.hasOwnProperty&&!e.hasOwnProperty(t)||(n=e[t],a.push(encodeURIComponent(t)+"="+encodeURIComponent(n)));var r=a.join("&");return r.length>0?"?"+r:""},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},parseUrl:function(e){var t=document.createElement("a");return t.href=e,""===t.host&&(t.href=t.href),{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:c.parseQueryString(t.search)}},unParseUrl:function(e){return(e.protocol||"")+"//"+(e.host||"")+(e.pathname||"")+c.unParseQueryString(e.query)+(e.hash||"")},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},parseString:function(e){return e.replace(/(^\s*)|(\s*$)/g,"").toLowerCase()},parseArray:function(e,t){for(var n=[],a=0;_val=e[a];a++)n.push(this.parseString(_val+""));return n.join(t||"&")}},s={type:"other",version:"other",width:0,height:0,engine_type:"other",engine_version:"other",getDevice:function(){var e=0,t=0;window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),this.height=t,this.width=e},getInfo:function(){var e=this;if(/MicroMessenger\/(\S+)/.test(n)||/MQQBrowser\/(\S+)/.test(n))return this.type="X5",void(this.version=RegExp.$1);if(window.opera)return e.type="opera",void(e.version=window.opera.version()||"other");{if(!/AppleWebKit\/(\S+)/.test(n))return/KHTML\/(\S+)/.test(n)||/Konqueror\/([^;]+)/.test(n)?(e.type="khtml",void(e.version=RegExp.$1)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(n)?(e.type="gecko",void(e.version=RegExp.$1)):/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/.test(n.toLowerCase())?(e.type="trident",void(e.version=RegExp.$1)):void 0;if(e.type="webkit",/Chrome\/(\S+)/.test(n))e.version=RegExp.$1;else if(/Version\/(\S+)/.test(n))e.version=RegExp.$1;else{var t=1,a=a||"";t=a.webkit<100?1:a.webkit<312?1.2:a.webkit<412?1.3:2,e.version=t}}}};s.getDevice(),s.getInfo();var h={domain:document.domain||"",url:document.URL||"",title:document.title||"",ref:c.getQueryString("ref")||document.referrer||"",hostname:document.location&&document.location.hostname||"",getUrlData:function(){var e=document.location;return{hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:c.parseQueryString(e.search)}}},l={type:"other",version:"other",screen_width:0,screen_height:0,screen_colors:"0-bit",language:"other",gpu_vender:"",gpu_renderer:"",getDevice:function(){window&&window.screen&&(this.screen_height=window.screen.height||0,this.screen_width=window.screen.width||0,this.screen_colors=(window.screen.colorDepth||0)+"-bit");try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(t){var n=t.getExtension("WEBGL_debug_renderer_info");this.gpu_renderer=t.getParameter(n.UNMASKED_RENDERER_WEBGL)||"",this.gpu_vender=t.getParameter(n.UNMASKED_VENDOR_WEBGL)||""}}catch(a){}},getInfo:function(){function e(e){e=e.toString();var t=e.split("."),n=t.shift();return parseFloat(n+"."+t.join(""))}var t=this,a=n.toLowerCase(),r=function(){this.initialize.apply(this,Array.prototype.slice.call(arguments))};if(r.prototype={initialize:function(e){this.original=e.value||null,this.alias=e.alias||null}},n.match("Unix")&&(t.type="Unix"),a.match("freebsd")&&(t.type="Freebsd"),n.match("openBSD")&&(t.type="OpenBSD"),n.match("netBSD")&&(t.type="NetBSD"),n.match("SunOS")&&(t.type="Solaris"),n.match("Linux")&&(t.type="Linux",n.match("CentOS")&&(t.type="CentOS",(match=/CentOS\/[0-9\.\-]+el([0-9_]+)/.exec(n))&&(t.version=new r({value:match[1].replace(/_/g,".")}))),n.match("Debian")&&(t.type="Debian"),n.match("Fedora")&&(t.type="Fedora",(match=/Fedora\/[0-9\.\-]+fc([0-9]+)/.exec(n))&&(t.version=new r({value:match[1]}))),n.match("Gentoo")&&(t.type="Gentoo"),n.match("Kubuntu")&&(t.type="Kubuntu"),n.match("Mandriva Linux")&&(t.type="mandriva",(match=/Mandriva Linux\/[0-9\.\-]+mdv([0-9]+)/.exec(n))&&(t.version=new r({value:match[1]}))),n.match("Mageia")&&(t.type="Mageia",(match=/Mageia\/[0-9\.\-]+mga([0-9]+)/.exec(n))&&(t.version=new r({value:match[1]}))),n.match("Red Hat")&&(t.type="Red Hat",(match=/Red Hat[^\/]*\/[0-9\.\-]+el([0-9_]+)/.exec(n))&&(t.version=new r({value:match[1].replace(/_/g,".")}))),n.match("Slackware")&&(t.type="Slackware"),n.match("SUSE")&&(t.type="SUSE"),n.match("Turbolinux")&&(t.type="Turbolinux"),n.match("Ubuntu")&&(t.type="Ubuntu",(match=/Ubuntu\/([0-9.]*)/.exec(n))&&(t.version=new r({value:match[1]})))),n.match("iPhone( Simulator)?;")||n.match("iPad;")||n.match("iPod;")?(t.type="iOS",t.version=new r({value:"1.0"}),(match=/OS (.*) like Mac OS X/.exec(n))&&(t.version=new r({value:match[1].replace(/_/g,".")}))):n.match("Mac OS X")&&(t.type="Mac OS X",(match=/Mac OS X (10[0-9\._]*)/.exec(n))&&(t.version=new r({value:match[1].replace(/_/g,".")}))),n.match("Windows")){if(t.type="Windows",match=/Windows NT ([0-9]\.[0-9])/.exec(n))switch(t.version=e(match[1]),match[1]){case"10.0":t.version=new r({value:match[1],alias:"10"});break;case"6.4":t.version=new r({value:match[1],alias:"10"});break;case"6.3":t.version=new r({value:match[1],alias:"8.1"});break;case"6.2":t.version=new r({value:match[1],alias:"8"});break;case"6.1":t.version=new r({value:match[1],alias:"7"});break;case"6.0":t.version=new r({value:match[1],alias:"Vista"});break;case"5.2":t.version=new r({value:match[1],alias:"Server 2003"});break;case"5.1":t.version=new r({value:match[1],alias:"XP"});break;case"5.0":t.version=new r({value:match[1],alias:"2000"});break;default:t.version=new r({value:match[1],alias:"NT "+t.version})}(n.match("Windows 95")||n.match("Win95")||n.match("Win 9x 4.00"))&&(t.version=new r({value:"4.0",alias:"95"})),(n.match("Windows 98")||n.match("Win98")||n.match("Win 9x 4.10"))&&(t.version=new r({value:"4.1",alias:"98"})),(n.match("Windows ME")||n.match("WinME")||n.match("Win 9x 4.90"))&&(t.version=new r({value:"4.9",alias:"ME"})),(n.match("Windows XP")||n.match("WinXP"))&&(t.type=new r({value:"5.1",alias:"XP"})),n.match("WP7")&&(t.type="Windows Phone",t.version=new r({value:"7.0",details:2})),(n.match("Windows CE")||n.match("WinCE")||n.match("WindowsCE"))&&(n.match(" IEMobile")?(t.type="Windows Mobile",n.match(" IEMobile 8")&&(t.version=new r({value:"6.5",details:2})),n.match(" IEMobile 7")&&(t.version=new r({value:"6.1",details:2})),n.match(" IEMobile 6")&&(t.version=new r({value:"6.0",details:2}))):(t.type="Windows CE",(match=/WindowsCEOS\/([0-9.]*)/.exec(n))&&(t.version=new r({value:match[1],details:2})),(match=/Windows CE ([0-9.]*)/.exec(n))&&(t.version=new r({value:match[1],details:2})))),n.match("Windows Mobile")&&(t.type="Windows Mobile"),(match=/WindowsMobile\/([0-9.]*)/.exec(n))&&(t.type="Windows Mobile",t.version=new r({value:match[1],details:2})),n.match("Windows Phone")&&(t.type="Windows Mobile",t.version=new r({value:n.match(/Windows Phone ([0-9.]*)/)[1],details:2})),n.match("Windows Phone OS")&&(t.type="Windows Phone",t.version=new r({value:n.match(/Windows Phone OS ([0-9.]*)/)[1],details:2}),t.version<7&&(t.type="Windows Mobile"))}n.match("Android")&&(t.type="Android",t.version=null,(match=/Android(?: )?(?:AllPhone_|CyanogenMod_)?(?:\/)?v?([0-9.]+)/.exec(n.replace("-update",".")))&&(t.version=new r({value:match[1],details:3})),n.match("Android Eclair")&&(t.version=new r({value:"2.0",details:3}))),n.match("GoogleTV")&&(t.type="Google TV",n.match("Chrome/5.")&&(t.version=new r({value:"1"})),n.match("Chrome/11.")&&(t.version=new r({value:"2"})),this.device.type="television"),n.match("WoPhone")&&(t.type="WoPhone",(match=/WoPhone\/([0-9\.]*)/.exec(n))&&(t.version=new r({value:match[1]}))),(n.match("BlackBerry")||n.match("BB10"))&&(t.type="BlackBerry OS",n.match("Opera")||((match=/BlackBerry([0-9]*)\/([0-9.]*)/.exec(n))&&(t.version=new r({value:match[2],details:2})),(match=/Version\/([0-9.]*)/.exec(n))&&(t.version=new r({value:match[1],details:2})),t.version>=10&&(t.type="BlackBerry"))),n.match("RIM Tablet OS")?(t.type="BlackBerry Tablet OS",t.version=new r({value:n.match(/RIM Tablet OS ([0-9.]*)/)[1],details:2})):n.match("PlayBook")&&(match=/Version\/(10[0-9.]*)/.exec(n))&&(t.type="BlackBerry",t.version=new r({value:match[1],details:2}))}};l.getDevice(),l.getInfo();var m={flash_install:!1,flash_version:"",fancy3d:!1,getInfo:function(){var e=0,t=0,a=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/.test(n.toLowerCase());if(a)try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");r&&(e=1,t=r.GetVariable("$version"),t=t.replace(/WIN/g,"").replace(/,/g,"."))}catch(i){}else if(navigator.plugins&&navigator.plugins.length>0){var r=navigator.plugins["Shockwave Flash"];r&&(e=1,t=r.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}if(e&&(this.flash_install=!0),t&&(this.flash_version=t),a)try{new ActiveXObject("FANCY3DOCX.Fancy3DOCXCtrl.1"),this.fancy3d=!0}catch(i){this.fancy3d=!1}else try{navigator.plugins.refresh(!1);for(var o in window.navigator.mimeTypes)"application/fancy-npruntime-fancy3d-plugin"==window.navigator.mimeTypes[o].type&&(this.fancy3d=!0)}catch(i){this.fancy3d=!1}}};m.getInfo();var u=function(){var e=this;e.send=function(t,n,a,r){n.length<=2036||r?e.sendByImage(t+"?"+n,a):e.Send(n,a)},e.sendByImage=function(e,t){var n=new Image(1,1);n.onload=function(){n=null,(t||i)()},n.src=e},e.Send=function(t,n){e.sendByRequest(t,n)},e.sendByRequest=function(e,t){var n,a=window.XDomainRequest;return a?(n=new a,n.open("GET",r+"?"+e)):(a=window.XMLHttpRequest)&&(a=new a,"withCredentials"in a&&(n=a,n.open("GET",r+"?"+e,!0),n.setRequestHeader("Content-Type","text/plain"))),!!n&&(n.onreadystatechange=function(){4==n.readyState&&(t&&t(),n=null)},n.send(),!0)}},v={startTime:(new Date).getTime(),params:{ic:"pageview",osn:l.type.toLowerCase(),osv:l.version.alias||l.version.original||l.version,brn:s.type,brv:s.version,gr:l.gpu_renderer,gv:l.gpu_vender,sr:l.screen_width+"x"+l.screen_height,rr:c.unParseUrl(c.parseUrl(h.ref)),mn:"1"},commonParams:{},paramStack:[],onPageClick:function(e,t){this.params.ic=e||"click";var n=(new Date).getTime(),a=Math.floor((n-this.startTime)/1e3);this.requestInfo([["cc",t+""],["cd",a+""]])},pushParams:function(){for(var e=this.paramStack,t=0;t<e.length;t++)this.params[e[t][0]]=e[t][1]+""},putParams:function(e){for(var t=this.paramStack,n=0;_val=t[n];n++)e&&_val[0]==e&&(this.paramStack.splice(n,1),delete this.params[e])},objToArray:function(e,t){var n=e||{},a=t;for(var r in n){var i=encodeURIComponent(r+""),o=encodeURIComponent(e[r]+"");a.push(i+"="+o)}return a},checkSendCommon:function(){var e=this.params.ic||"",t=["materialvisit","postervisit","mapostervisit","mopostervisit"];return t.indexOf(e.toLowerCase())>-1},getNow:function(){return Math.floor((new Date).getTime()/1e3)},requestInfo:function(e){var t=this;t.pushParams();var n=t.params,a=[];a=t.objToArray(n,a);var i=t.checkSendCommon();if(i){var o=t.commonParams;a=t.objToArray(o,a)}else a.push("_tt="+t.getNow());if(e&&c.isArray(e)){for(var s=[],h=0;_param=e[h];h++)if(_param[0]){var l=encodeURIComponent(_param[0])+"="+encodeURIComponent(_param[1]+"");s.push(l)}a.push(s.join("&"))}var m=a.join("&"),v=new u;v.send(r,m,function(){},!1)}};t(),window.hasMo=1}}(window);