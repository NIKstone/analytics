!function(){function e(){function e(e){var t=this,n=e||[];t.create=function(){var e=n[1]||"",t=n[2]||"";e&&l.paramStack.push([e,t])},t.send=function(){var e=n[1]||"",t=n[2]||[];return"pageclick"==e?void pageClick(n[2]+""):void(e&&(l.params.ic=e,l.requestInfo(t.length&&t)))},t.clear=function(){var e=n[1];if(e)if(e&&o.isArray(e))for(var t=0;t<e.length;t++)e[t]&&l.putParams(e[t]);else l.putParams(e)},t.trackEvent=function(){function e(e){for(var t=0;_ext=e[t];t++)o.isArray(_ext)&&_ext.length>1&&i.push(_ext)}var t=n[1]||"",a=n[2]||"",i=[["cat",t],["act",a]];o.isArray(n[3])?e(n[3]):(i.push(["des",n[3]?n[3]+"":""]),e(n[4]||[])),l.params.ic="TrackEvent",l.requestInfo(i)},n[0]&&t[n[0]]&&new t[n[0]],pageClick=function(e){window.addEventListener?window.addEventListener("click",function(t){var n=t.clientX||0,a=t.clientY||0;l.onPageClick(e,n+"x"+a)}):document.attachEvent&&document.attachEvent("onclick",function(t){var n=t.clientX||0,a=t.clientY||0;l.onPageClick(e,n+"x"+a)})}}for(var t=window._ma.q||[],n=0;_val=t[n];n++)e(_val);window._ma=function(){var t=arguments||"";t&&t[0]&&e(t)}}if(!window.hasMo){var t=navigator.userAgent,n=(navigator.platform,"https:"==document.location.protocol?"https://track.xiyouence.com/":"http://track.xiyouence.com/"),a=n+"mo.gif",i=function(){};window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}();var o={parseQueryString:function(e){var t={};if(e.length>0){var n="?"===e.charAt(0)?e.substring(1):e;if(n.length>0)for(var a=n.split("&"),i=0;i<a.length;i++)if(a[i].length>0){var o=a[i].split("=");try{var r=decodeURIComponent(o[0]),c=o.length>1?decodeURIComponent(o[1]):"true";t[r]=c}catch(s){}}}},unParseQueryString:function(e){var t,n,a=[];for(t in e)e.hasOwnProperty&&!e.hasOwnProperty(t)||(n=e[t],a.push(encodeURIComponent(t)+"="+encodeURIComponent(n)));var i=a.join("&");return i.length>0?"?"+i:""},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},parseUrl:function(e){var t=document.createElement("a");return t.href=e,""===t.host&&(t.href=t.href),{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:o.parseQueryString(t.search)}},unParseUrl:function(e){return(e.protocol||"")+"//"+(e.host||"")+(e.pathname||"")+e.unParseQueryString(e.query)+(e.hash||"")},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},parseString:function(e){return e.replace(/(^\s*)|(\s*$)/g,"").toLowerCase()},parseArray:function(e,t){for(var n=[],a=0;_val=e[a];a++)n.push(this.parseString(_val+""));return n.join(t||"&")}},r={type:"other",version:"other",width:0,height:0,engine_type:"other",engine_version:"other",getDevice:function(){var e=0,t=0;window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),this.height=t,this.width=e},getInfo:function(){var e=this;if(/MicroMessenger\/(\S+)/.test(t)||/MQQBrowser\/(\S+)/.test(t))return this.type="X5",void(this.version=RegExp.$1);if(window.opera)return e.type="opera",void(e.version=window.opera.version()||"other");{if(!/AppleWebKit\/(\S+)/.test(t))return/KHTML\/(\S+)/.test(t)||/Konqueror\/([^;]+)/.test(t)?(e.type="khtml",void(e.version=RegExp.$1)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(t)?(e.type="gecko",void(e.version=RegExp.$1)):/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/.test(t.toLowerCase())?(e.type="trident",void(e.version=RegExp.$1)):void 0;if(e.type="webkit",/Chrome\/(\S+)/.test(t))e.version=RegExp.$1;else if(/Version\/(\S+)/.test(t))e.version=RegExp.$1;else{var n=1;n=engine.webkit<100?1:engine.webkit<312?1.2:engine.webkit<412?1.3:2,e.version=n}}}};r.getDevice(),r.getInfo();var c=({domain:document.domain||"",url:document.URL||"",title:document.title||"",pwu:window.parent.document.URL||"",pwt:window.parent.document.title||"",ref:document.referrer&&o.parseUrl(document.referrer).hostname||"",hostname:document.location&&document.location.hostname||"",getUrlData:function(){var e=document.location;return{hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:o.parseQueryString(e.search)}}},{type:"other",version:"other",screen_width:0,screen_height:0,screen_colors:"0-bit",language:"other",getDevice:function(){window&&window.screen&&(this.screen_height=window.screen.height||0,this.screen_width=window.screen.width||0,this.screen_colors=(window.screen.colorDepth||0)+"-bit")},getInfo:function(){function e(e){e=e.toString();var t=e.split("."),n=t.shift();return parseFloat(n+"."+t.join(""))}var n=this,a=t.toLowerCase(),i=function(){this.initialize.apply(this,Array.prototype.slice.call(arguments))};if(i.prototype={initialize:function(e){this.original=e.value||null,this.alias=e.alias||null}},t.match("Unix")&&(n.type="Unix"),a.match("freebsd")&&(n.type="freebsd"),t.match("OpenBSD")&&(n.type="OpenBSD"),t.match("NetBSD")&&(n.type="NetBSD"),t.match("SunOS")&&(n.type="Solaris"),t.match("Linux")&&(n.type="Linux",t.match("CentOS")&&(n.type="CentOS",(match=/CentOS\/[0-9\.\-]+el([0-9_]+)/.exec(t))&&(n.version=new i({value:match[1].replace(/_/g,".")}))),t.match("Debian")&&(n.type="Debian"),t.match("Fedora")&&(n.type="Fedora",(match=/Fedora\/[0-9\.\-]+fc([0-9]+)/.exec(t))&&(n.version=new i({value:match[1]}))),t.match("Gentoo")&&(n.type="Gentoo"),t.match("Kubuntu")&&(n.type="Kubuntu"),t.match("Mandriva Linux")&&(n.type="Mandriva",(match=/Mandriva Linux\/[0-9\.\-]+mdv([0-9]+)/.exec(t))&&(n.version=new i({value:match[1]}))),t.match("Mageia")&&(n.type="Mageia",(match=/Mageia\/[0-9\.\-]+mga([0-9]+)/.exec(t))&&(n.version=new i({value:match[1]}))),t.match("Red Hat")&&(n.type="Red Hat",(match=/Red Hat[^\/]*\/[0-9\.\-]+el([0-9_]+)/.exec(t))&&(n.version=new i({value:match[1].replace(/_/g,".")}))),t.match("Slackware")&&(n.type="Slackware"),t.match("SUSE")&&(n.type="SUSE"),t.match("Turbolinux")&&(n.type="Turbolinux"),t.match("Ubuntu")&&(n.type="Ubuntu",(match=/Ubuntu\/([0-9.]*)/.exec(t))&&(n.version=new i({value:match[1]})))),t.match("iPhone( Simulator)?;")||t.match("iPad;")||t.match("iPod;")?(n.type="iOS",n.version=new i({value:"1.0"}),(match=/OS (.*) like Mac OS X/.exec(t))&&(n.version=new i({value:match[1].replace(/_/g,".")}))):t.match("Mac OS X")&&(n.type="Mac OS X",(match=/Mac OS X (10[0-9\._]*)/.exec(t))&&(n.version=new i({value:match[1].replace(/_/g,".")}))),t.match("Windows")){if(n.type="Windows",match=/Windows NT ([0-9]\.[0-9])/.exec(t))switch(n.version=e(match[1]),match[1]){case"10.0":n.version=new i({value:match[1],alias:"10"});break;case"6.4":n.version=new i({value:match[1],alias:"10"});break;case"6.3":n.version=new i({value:match[1],alias:"8.1"});break;case"6.2":n.version=new i({value:match[1],alias:"8"});break;case"6.1":n.version=new i({value:match[1],alias:"7"});break;case"6.0":n.version=new i({value:match[1],alias:"Vista"});break;case"5.2":n.version=new i({value:match[1],alias:"Server 2003"});break;case"5.1":n.version=new i({value:match[1],alias:"XP"});break;case"5.0":n.version=new i({value:match[1],alias:"2000"});break;default:n.version=new i({value:match[1],alias:"NT "+n.version})}(t.match("Windows 95")||t.match("Win95")||t.match("Win 9x 4.00"))&&(n.version=new i({value:"4.0",alias:"95"})),(t.match("Windows 98")||t.match("Win98")||t.match("Win 9x 4.10"))&&(n.version=new i({value:"4.1",alias:"98"})),(t.match("Windows ME")||t.match("WinME")||t.match("Win 9x 4.90"))&&(n.version=new i({value:"4.9",alias:"ME"})),(t.match("Windows XP")||t.match("WinXP"))&&(n.type=new i({value:"5.1",alias:"XP"})),t.match("WP7")&&(n.type="Windows Phone",n.version=new i({value:"7.0",details:2})),(t.match("Windows CE")||t.match("WinCE")||t.match("WindowsCE"))&&(t.match(" IEMobile")?(n.type="Windows Mobile",t.match(" IEMobile 8")&&(n.version=new i({value:"6.5",details:2})),t.match(" IEMobile 7")&&(n.version=new i({value:"6.1",details:2})),t.match(" IEMobile 6")&&(n.version=new i({value:"6.0",details:2}))):(n.type="Windows CE",(match=/WindowsCEOS\/([0-9.]*)/.exec(t))&&(n.version=new i({value:match[1],details:2})),(match=/Windows CE ([0-9.]*)/.exec(t))&&(n.version=new i({value:match[1],details:2})))),t.match("Windows Mobile")&&(n.type="Windows Mobile"),(match=/WindowsMobile\/([0-9.]*)/.exec(t))&&(n.type="Windows Mobile",n.version=new i({value:match[1],details:2})),t.match("Windows Phone")&&(n.type="Windows Mobile",n.version=new i({value:t.match(/Windows Phone ([0-9.]*)/)[1],details:2})),t.match("Windows Phone OS")&&(n.type="Windows Phone",n.version=new i({value:t.match(/Windows Phone OS ([0-9.]*)/)[1],details:2}),n.version<7&&(n.type="Windows Mobile"))}t.match("Android")&&(n.type="Android",n.version=null,(match=/Android(?: )?(?:AllPhone_|CyanogenMod_)?(?:\/)?v?([0-9.]+)/.exec(t.replace("-update",".")))&&(n.version=new i({value:match[1],details:3})),t.match("Android Eclair")&&(n.version=new i({value:"2.0",details:3}))),t.match("GoogleTV")&&(n.type="Google TV",t.match("Chrome/5.")&&(n.version=new i({value:"1"})),t.match("Chrome/11.")&&(n.version=new i({value:"2"})),this.device.type="television"),t.match("WoPhone")&&(n.type="WoPhone",(match=/WoPhone\/([0-9\.]*)/.exec(t))&&(n.version=new i({value:match[1]}))),(t.match("BlackBerry")||t.match("BB10"))&&(n.type="BlackBerry OS",t.match("Opera")||((match=/BlackBerry([0-9]*)\/([0-9.]*)/.exec(t))&&(n.version=new i({value:match[2],details:2})),(match=/Version\/([0-9.]*)/.exec(t))&&(n.version=new i({value:match[1],details:2})),n.version>=10&&(n.type="BlackBerry"))),t.match("RIM Tablet OS")?(n.type="BlackBerry Tablet OS",n.version=new i({value:t.match(/RIM Tablet OS ([0-9.]*)/)[1],details:2})):t.match("PlayBook")&&(match=/Version\/(10[0-9.]*)/.exec(t))&&(n.type="BlackBerry",n.version=new i({value:match[1],details:2}))}});c.getDevice(),c.getInfo();var s={flash_install:!1,flash_version:"",fancy3d:!1,getInfo:function(){var e=0,n=0,a=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/.test(t.toLowerCase());if(a)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");i&&(e=1,n=i.GetVariable("$version"),n=n.replace(/WIN/g,"").replace(/,/g,"."))}catch(o){}else if(navigator.plugins&&navigator.plugins.length>0){var i=navigator.plugins["Shockwave Flash"];i&&(e=1,n=i.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}if(e&&(this.flash_install=!0),n&&(this.flash_version=n),a)try{new ActiveXObject("FANCY3DOCX.Fancy3DOCXCtrl.1"),this.fancy3d=!0}catch(o){this.fancy3d=!1}else try{navigator.plugins.refresh(!1);for(var r in window.navigator.mimeTypes)"application/fancy-npruntime-fancy3d-plugin"==window.navigator.mimeTypes[r].type&&(this.fancy3d=!0)}catch(o){this.fancy3d=!1}}};s.getInfo();var h=function(){var e=this;e.send=function(t,n,a,i){n.length<=2036||i?e.sendByImage(t+"?"+n,a):e.Send(n,a)},e.sendByImage=function(e,t){var n=new Image(1,1);n.onload=function(){n=null,(t||i)()},n.src=e},e.Send=function(t,n){e.sendByRequest(t,n)},e.sendByRequest=function(e,t){var n,i=window.XDomainRequest;return i?(n=new i,n.open("GET",a+"?"+e)):(i=window.XMLHttpRequest)&&(i=new i,"withCredentials"in i&&(n=i,n.open("GET",a+"?"+e,!0),n.setRequestHeader("Content-Type","text/plain"))),!!n&&(n.onreadystatechange=function(){4==n.readyState&&(t&&t(),n=null)},n.send(),!0)}},l={startTime:(new Date).getTime(),params:{ic:"pageview",osn:c.type,osv:c.version.alias||c.version.original||c.version,brn:r.type,brv:r.version,sr:c.screen_width+"x"+c.screen_height},commonParams:{},paramStack:[],onPageClick:function(e,t){this.params.ic=e||"click";var n=(new Date).getTime(),a=Math.floor((n-this.startTime)/1e3);this.requestInfo([["cc",t+""],["cd",a+""]])},pushParams:function(){for(var e=this.paramStack,t=0;t<e.length;t++)this.params[e[t][0]]=e[t][1]+""},putParams:function(e){for(var t=this.paramStack,n=0;_val=t[n];n++)e&&_val[0]==e&&(this.paramStack.splice(n,1),delete this.params[e])},objToArray:function(e,t){var n=e||{},a=t;for(var i in n){var o=encodeURIComponent(i+""),r=encodeURIComponent(e[i]+"");a.push(o+"="+r)}return a},checkSendCommon:function(){var e=this.params.ic||"",t=["materialvisit","postervisit","mapostervisit","mopostervisit"];return t.indexOf(e.toLowerCase())>-1},requestInfo:function(e){function t(e){var t=new Image(1,1);t.onload=function(){t=null},t.src=e||""}var n=this;n.pushParams();var i=n.params,r=[];r=n.objToArray(i,r);var c=n.checkSendCommon();if(c){var s=n.commonParams;r=n.objToArray(s,r)}else r.push("_tt="+(new Date).getTime());if(e&&o.isArray(e)){for(var l=[],m=0;_param=e[m];m++)if(_param[0]){var u=encodeURIComponent(_param[0])+"="+encodeURIComponent(_param[1]+"");l.push(u)}r.push(l.join("&"))}var v=r.join("&"),d=new h;t("//down.xiyouence.com/index/statisticstmp?type=3&opt1=send_before&paid="+(i.paid||"")+"&opt2="+(i.ic||"")),d.send(a,v,function(){t("//down.xiyouence.com/index/statisticstmp?type=4&opt1=send_after&paid="+(i.paid||"")+"&opt2="+(i.ic||""))},!1)}};e(),window.hasMo=1}}(window);